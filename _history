{"entries":[{"timestamp":1770926375087,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":131,"diffs":[[1,"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block>\n</xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":6110,"diffs":[[1," "]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":201,"length1":31,"diffs":[[1,"    \"additionalFilePaths\": []\n"]]}]}]},{"timestamp":1770926755844,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":133,"diffs":[[1,"// =====================================================\n// GEOMETRY DASH — GOD+ ENGINE FRAMEWORK\n// =====================================================\n"]]},{"start1":156,"length1":0,"diffs":[[1,"// ================= SPRITE KINDS =================\n"]]},{"start1":277,"length1":0,"diffs":[[1,"    export const Orb = SpriteKind.create()\n    export const Portal = SpriteKind.create()\n    export const Checkpoint = SpriteKind.create()\n"]]},{"start1":506,"length1":0,"diffs":[[1,"// ================= ENUMS =================\nenum Mode {\n    Cube,\n    Ship,\n    Wave,\n    Spider\n}\n\nenum GameState {\n    Menu,\n    Playing,\n    Dead,\n    Win\n}\n\nenum Difficulty {\n    Easy,\n    Normal,\n    Demon\n}\n\n// ================= GLOBALS =================\nlet state = GameState.Menu\nlet mode = Mode.Cube\nlet difficulty = Difficulty.Normal\n\n"]]},{"start1":903,"length1":16,"diffs":[[1,"let speed = 140\n"]]},{"start1":937,"length1":0,"diffs":[[1,"let gravityDir = 1\n"]]},{"start1":987,"length1":41,"diffs":[[1,""]]},{"start1":988,"length1":113,"diffs":[[1,"let checkpointX = 16\nlet practice = false\nlet attempts = 0\nlet bestAttempts = settings.readNumber(\"best\") || 0\n"]]},{"start1":1100,"length1":21,"diffs":[[1,"// ================= PLAYER SKINS =================\nlet skins = [\nimg`\n"]]},{"start1":1267,"length1":0,"diffs":[[1,"`,\nimg`\n. . 5 5 5 5 . .\n. 5 1 1 1 1 5 .\n5 1 1 1 1 1 1 5\n5 1 1 1 1 1 1 5\n. 5 1 1 1 1 5 .\n. . 5 5 5 5 . .\n"]]},{"start1":1373,"length1":0,"diffs":[[1,"]\n"]]},{"start1":1376,"length1":0,"diffs":[[1,"let currentSkin = settings.readNumber(\"skin\") || 0\n\n// ================= LEVEL DATA SYSTEM =================\nlet levelLength = 2000\n\nfunction loadLevel() {\n\n    // Basic floor\n    tiles.setTilemap(tilemap`level1`)\n    scene.cameraFollowSprite(player)\n\n    // Hazards generated by difficulty\n    for (let i = 200; i < levelLength; i += 200) {\n\n        if (difficulty == Difficulty.Easy)\n            createSpike(i, 110)\n\n        if (difficulty == Difficulty.Normal) {\n            createSpike(i, 110)\n            createSpike(i + 60, 110)\n        }\n\n        if (difficulty == Difficulty.Demon) {\n            createSpike(i, 110)\n            createSpike(i + 40, 110)\n            createSpike(i + 80, 110)\n        }\n    }\n\n    createBoss(levelLength - 300)\n    createWin(levelLength - 50)\n}\n\n// ================= CREATE PLAYER =================\n"]]},{"start1":2239,"length1":90,"diffs":[[1,"\n    player = sprites.create(skins[currentSkin], SpriteKind.Player)\n    player.setPosition(16, 100)\n"]]},{"start1":2403,"length1":15,"diffs":[[1,"// ================= MENU =================\nshowMenu()\n"]]},{"start1":2459,"length1":116,"diffs":[[1,"function showMenu() {\n"]]},{"start1":2482,"length1":165,"diffs":[[1,"    let diffText = difficulty == Difficulty.Easy ? \"Easy\" :\n                   difficulty == Difficulty.Normal ? \"Normal\" : \"Demon\"\n"]]},{"start1":2615,"length1":209,"diffs":[[1,"    game.splash(\n        \"GOD+ MODE\",\n        \"A = Start\\nB = Practice\\nLeft/Right = Difficulty\\nUp = Change Skin\\nDifficulty: \" + diffText\n    )\n"]]},{"start1":2764,"length1":164,"diffs":[[1,"// ================= INPUT =================\ncontroller.left.onEvent(ControllerButtonEvent.Pressed, function () {\n    if (state == GameState.Menu) {\n        difficulty = (difficulty + 2) % 3\n        showMenu()\n    }\n})\n"]]},{"start1":2984,"length1":225,"diffs":[[1,"controller.right.onEvent(ControllerButtonEvent.Pressed, function () {\n    if (state == GameState.Menu) {\n        difficulty = (difficulty + 1) % 3\n        showMenu()\n    }\n})\n"]]},{"start1":3160,"length1":127,"diffs":[[1,"controller.up.onEvent(ControllerButtonEvent.Pressed, function () {\n    if (state == GameState.Menu) {\n        currentSkin = (currentSkin + 1) % skins.length\n        settings.writeNumber(\"skin\", currentSkin)\n        showMenu()\n    }\n})\n"]]},{"start1":3396,"length1":101,"diffs":[[1,"controller.A.onEvent(ControllerButtonEvent.Pressed, function () {\n    if (state == GameState.Menu) startGame(false)\n})\n"]]},{"start1":3516,"length1":46,"diffs":[[1,"controller.B.onEvent(ControllerButtonEvent.Pressed, function () {\n    if (state == GameState.Menu) startGame(true)\n})\n"]]},{"start1":3635,"length1":29,"diffs":[[1,"function startGame(prac: boolean) {\n"]]},{"start1":3672,"length1":116,"diffs":[[1,"    practice = prac\n    state = GameState.Playing\n    attempts++\n"]]},{"start1":3738,"length1":0,"diffs":[[1,"    createPlayer()\n    loadLevel()\n}\n\n// ================= MAIN UPDATE =================\n"]]},{"start1":3856,"length1":25,"diffs":[[1,"    if (state != GameState.Playing) return\n"]]},{"start1":3923,"length1":262,"diffs":[[1,"    if (mode == Mode.Cube) {\n        player.ay = gravity * gravityDir\n        if (!player.isHittingTile(CollisionDirection.Bottom))\n            player.angle += 15 * gravityDir\n        else {\n            player.angle = 0\n            jumps = 0\n        }\n"]]},{"start1":4214,"length1":105,"diffs":[[1,"// ================= JUMP =================\n"]]},{"start1":4324,"length1":25,"diffs":[[1,""]]},{"start1":4325,"length1":0,"diffs":[[1,"    if (state != GameState.Playing) return\n\n"]]},{"start1":4397,"length1":25,"diffs":[[1,"        player.vy = -350 * gravityDir\n"]]},{"start1":4461,"length1":110,"diffs":[[1,"// ================= HAZARDS =================\nfunction createSpike(x: number, y: number) {\n    let s = sprites.create(img`\n    . . 8 . .\n    . 8 8 8 .\n    8 8 8 8 8\n    `, SpriteKind.Hazard)\n    s.setPosition(x, y)\n}\n"]]},{"start1":4764,"length1":0,"diffs":[[1,"// ================= BOSS =================\nfunction createBoss(x: number) {\n\n    boss = sprites.create(img`\n    9 9 9 9\n    9 . . 9\n    9 . . 9\n    9 9 9 9\n    `, SpriteKind.Boss)\n\n    boss.setPosition(x, 60)\n\n    game.onUpdateInterval(1200, function () {\n        if (state == GameState.Playing) {\n            sprites.createProjectileFromSprite(img`\n            8 8\n            8 8\n            `, boss, -200, randint(-50, 50))\n        }\n    })\n}\n\n"]]},{"start1":5300,"length1":0,"diffs":[[1,"// ================= WIN =================\nfunction createWin(x: number) {\n    let w = sprites.create(img`\n    7 7 7 7\n    `, SpriteKind.Win)\n    w.setPosition(x, 100)\n}\n\n"]]},{"start1":5538,"length1":20,"diffs":[[1,"\n    state = GameState.Win\n\n    if (bestAttempts == 0 || attempts < bestAttempts) {\n        settings.writeNumber(\"best\", attempts)\n    }\n\n"]]},{"start1":5718,"length1":113,"diffs":[[1,"// ================= DEATH =================\n"]]},{"start1":5780,"length1":25,"diffs":[[1,""]]},{"start1":5781,"length1":20,"diffs":[[1,"    if (state != GameState.Playing) return\n"]]},{"start1":5825,"length1":0,"diffs":[[1,"    state = GameState.Dead\n\n"]]},{"start1":5934,"length1":15,"diffs":[[1,"    pause(500)\n"]]},{"start1":5950,"length1":32,"diffs":[[1,"    if (practice)\n        player.setPosition(checkpointX, 100)\n    else\n        player.setPosition(16, 100)\n\n"]]},{"start1":6077,"length1":19,"diffs":[[1,"    state = GameState.Playing\n"]]},{"start1":6109,"length1":0,"diffs":[[1,"\n"]]}]}]},{"timestamp":1770927360183,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"pxt.json","patch":[{"start1":2,"length1":19,"diffs":[[1,"    \"name\": \"GD\",\n"]]}]}]},{"timestamp":1770927469456,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":0,"diffs":[[1,"// ============================================\n// GEOMETRY DASH — FINAL CLEAN BUILD\n// ============================================\n\n"]]},{"start1":157,"length1":46,"diffs":[[1,""]]},{"start1":203,"length1":0,"diffs":[[1,"    export const Boss = SpriteKind.create()\n    export const Win = SpriteKind.create()\n"]]},{"start1":293,"length1":42,"diffs":[[1,"let player: Sprite = null\nlet boss: Sprite = null\n"]]},{"start1":344,"length1":118,"diffs":[[1,"let speed = 150\nlet gravity = 900\nlet jumps = 0\nlet maxJumps = 2\nlet rotationFrame = 0\nlet playing = true\n"]]},{"start1":451,"length1":183,"diffs":[[1,"// ============================================\n// CREATE PLAYER\n// ============================================\n"]]},{"start1":565,"length1":182,"diffs":[[1,"let cubeImage = img`\n"]]},{"start1":685,"length1":96,"diffs":[[1,"function createPlayer() {\n    player = sprites.create(cubeImage, SpriteKind.Player)\n    player.setPosition(20, 100)\n    player.ay = gravity\n    scene.cameraFollowSprite(player)\n}\n"]]},{"start1":865,"length1":33,"diffs":[[1,"createPlayer()\n"]]},{"start1":881,"length1":90,"diffs":[[1,"// ============================================\n// LEVEL GENERATION\n// ============================================\n"]]},{"start1":998,"length1":121,"diffs":[[1,"function spike(x: number, y: number) {\n"]]},{"start1":1137,"length1":0,"diffs":[[1,"    s.setPosition(x, y)\n}\n"]]},{"start1":1164,"length1":26,"diffs":[[1,"function saw(x: number, y: number) {\n    let s = sprites.create(img`\n    . 9 9 .\n    9 9 9 9\n    9 9 9 9\n    . 9 9 .\n    `, SpriteKind.Hazard)\n    s.setPosition(x, y)\n    s.vy = 60\n    s.setBounceOnWall(true)\n"]]},{"start1":1376,"length1":44,"diffs":[[1,"function createBoss(x: number) {\n    boss = sprites.create(img`\n    9 9 9 9\n    9 . . 9\n    9 . . 9\n    9 9 9 9\n    `, SpriteKind.Boss)\n    boss.setPosition(x, 60)\n"]]},{"start1":1541,"length1":102,"diffs":[[1,"    game.onUpdateInterval(1200, function () {\n        if (playing && boss) {\n            sprites.createProjectileFromSprite(img`\n            8 8\n            8 8\n            `, boss, -220, randint(-60, 60))\n        }\n    })\n}\n"]]},{"start1":1767,"length1":223,"diffs":[[1,"function createWin(x: number) {\n    let w = sprites.create(img`\n    7 7 7 7\n    `, SpriteKind.Win)\n    w.setPosition(x, 100)\n}\n"]]},{"start1":1895,"length1":91,"diffs":[[1,"// Generate level\nfor (let i = 200; i < 1800; i += 250) {\n    spike(i, 110)\n    spike(i + 60, 110)\n}\n"]]},{"start1":1997,"length1":152,"diffs":[[1,"saw(900, 60)\ncreateBoss(1400)\ncreateWin(1900)\n"]]},{"start1":2044,"length1":97,"diffs":[[1,"scene.setBackgroundColor(15)\n"]]},{"start1":2074,"length1":0,"diffs":[[1,"// ============================================\n// MAIN UPDATE LOOP\n// ============================================\n\n"]]},{"start1":2220,"length1":0,"diffs":[[1,"    if (!playing) return\n\n"]]},{"start1":2269,"length1":127,"diffs":[[1,"    if (player.isHittingTile(CollisionDirection.Bottom)) {\n        jumps = 0\n        player.setImage(cubeImage)\n        rotationFrame = 0\n"]]},{"start1":2420,"length1":30,"diffs":[[1,"        rotationFrame = (rotationFrame + 1) % 4\n        player.setImage(cubeImage.rotated(rotationFrame * 90))\n"]]},{"start1":2538,"length1":21,"diffs":[[1,"    info.setScore(player.x)\n"]]},{"start1":2570,"length1":41,"diffs":[[1,"// ============================================\n"]]},{"start1":2626,"length1":41,"diffs":[[1,"// ============================================\n"]]},{"start1":2741,"length1":0,"diffs":[[1,"    if (!playing) return\n\n"]]},{"start1":2845,"length1":0,"diffs":[[1,"\n// ============================================\n// COLLISIONS\n// ============================================\n\nsprites.onOverlap(SpriteKind.Player, SpriteKind.Hazard, function () {\n    die()\n})\n\nsprites.onOverlap(SpriteKind.Player, SpriteKind.Projectile, function () {\n    die()\n})\n\nsprites.onOverlap(SpriteKind.Player, SpriteKind.Win, function () {\n    playing = false\n    game.over(true, effects.confetti)\n})\n\n// ============================================\n// DEATH SYSTEM\n// ============================================\n\nfunction die() {\n    if (!playing) return\n\n    playing = false\n\n    scene.cameraShake(8, 400)\n    player.startEffect(effects.disintegrate, 400)\n\n    pause(600)\n\n    player.setPosition(20, 100)\n    player.vy = 0\n    playing = true\n}\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":2,"length1":20,"diffs":[[1,"    \"name\": \"GDv\",\n"]]}]}]},{"timestamp":1770928061841,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":118,"length1":0,"diffs":[[1,"// Background\n"]]},{"start1":202,"length1":17,"diffs":[[1,"// FLOOR (real solid ground sprite)\n"]]},{"start1":313,"length1":128,"diffs":[[1,"8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8\n8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8\n"]]},{"start1":464,"length1":93,"diffs":[[1,"ground.setPosition(500, 120)\nground.setFlag(SpriteFlag.Immovable, true)\n"]]},{"start1":945,"length1":0,"diffs":[[1,"let onGround = false\n"]]},{"start1":1008,"length1":22,"diffs":[[1,"// SPIKES\n"]]},{"start1":1060,"length1":28,"diffs":[[1,"function spike(x: number) {\n    let s = sprites.create(img`\n    . . 8 . .\n    . 8 8 8 .\n    8 8 8 8 8\n    `, SpriteKind.Hazard)\n"]]},{"start1":1189,"length1":22,"diffs":[[1,"    s.setPosition(x, 108)\n}\n"]]},{"start1":1218,"length1":99,"diffs":[[1,"spike(250)\nspike(320)\nspike(390)\nspike(460)\n\n// =====================================\n// GROUND COLLISION\n// =====================================\n\nsprites.onOverlap(SpriteKind.Player, SpriteKind.Ground, function (p, g) {\n    if (player.vy >= 0) {\n        player.y = ground.top - player.height / 2\n"]]},{"start1":1556,"length1":69,"diffs":[[1,"        onGround = true\n    }\n})\n\n// =====================================\n// DEATH\n// =====================================\n\nsprites.onOverlap(SpriteKind.Player, SpriteKind.Hazard, function () {\n    scene.cameraShake(6, 300)\n    player.setPosition(20, 80)\n    player.vy = 0\n})\n\n// =====================================\n// UPDATE LOOP\n// =====================================\n\ngame.onUpdate(function () {\n\n    player.vx = speed\n\n    if (!onGround) {\n"]]},{"start1":2112,"length1":0,"diffs":[[1,"    } else {\n        player.setImage(cube)\n"]]},{"start1":2161,"length1":0,"diffs":[[1,"\n    onGround = false\n"]]}]}]},{"timestamp":1770928583429,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":0,"diffs":[[1,"namespace SpriteKind {\n    export const Ground = SpriteKind.create()\n    export const Hazard = SpriteKind.create()\n}\n\n"]]},{"start1":147,"length1":0,"diffs":[[1,"// =====================================\n// FLOOR (solid)\n// =====================================\n\nlet ground = sprites.create(img`\n8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8\n`, SpriteKind.Ground)\n\nground.setPosition(500, 115)\nground.setFlag(SpriteFlag.Ghost, true) // prevents push physics\n\n// =====================================\n// PLAYER\n// =====================================\n\n"]]},{"start1":934,"length1":51,"diffs":[[1,"// =====================================\n// COLLISION HANDLING\n// =====================================\n"]]},{"start1":1091,"length1":80,"diffs":[[1,"    // Manual floor stop\n    if (player.bottom >= ground.top) {\n        player.bottom = ground.top\n"]]},{"start1":1415,"length1":0,"diffs":[[1,"// =====================================\n// JUMP\n// =====================================\n\n"]]}]}]},{"timestamp":1770928901214,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":86,"diffs":[[1,"scene.setBackgroundColor(9)\n"]]},{"start1":29,"length1":41,"diffs":[[1,"let cube = img`\n. . 2 2 2 2 . .\n. 2 4 4 4 4 2 .\n2 4 4 4 4 4 4 2\n2 4 4 4 4 4 4 2\n. 2 4 4 4 4 2 .\n. . 2 2 2 2 . .\n`\n"]]},{"start1":144,"length1":71,"diffs":[[1,"let player = sprites.create(cube, SpriteKind.Player)\nplayer.setPosition(20, 80)\nplayer.ay = 900\n"]]},{"start1":241,"length1":106,"diffs":[[1,"scene.cameraFollowSprite(player)\n"]]},{"start1":275,"length1":20,"diffs":[[1,"let speed = 140\nlet jumps = 0\nlet maxJumps = 2\nlet rotationFrame = 0\n"]]},{"start1":345,"length1":137,"diffs":[[1,"// This is the fixed floor height\nlet floorY = 110\n"]]},{"start1":397,"length1":34,"diffs":[[1,"game.onUpdate(function () {\n"]]},{"start1":426,"length1":124,"diffs":[[1,"    player.vx = speed\n"]]},{"start1":449,"length1":291,"diffs":[[1,"    // HARD FLOOR CLAMP\n    if (player.y >= floorY) {\n        player.y = floorY\n        player.vy = 0\n        jumps = 0\n        player.setImage(cube)\n        rotationFrame = 0\n    } else {\n        rotationFrame = (rotationFrame + 1) % 4\n        player.setImage(cube.rotated(rotationFrame * 90))\n"]]},{"start1":750,"length1":0,"diffs":[[1,"})\n"]]},{"start1":754,"length1":840,"diffs":[[1,"controller.A.onEvent(ControllerButtonEvent.Pressed, function () {\n    if (jumps < maxJumps) {\n        player.vy = -350\n        jumps++\n    }\n})\n"]]}]}]},{"timestamp":1770929428896,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":0,"diffs":[[1,"const canvas = document.querySelector(\"canvas\");\nconst ctx = canvas.getContext(\"2d\");\n\ncanvas.width = 900;\ncanvas.height = 400;\n\nlet gravity = 0.8;\nlet speed = 6;\nlet score = 0;\nlet gameOver = false;\n\nconst player = {\n    x: 100,\n    y: 300,\n    size: 30,\n    dy: 0,\n    grounded: false,\n    rotation: 0\n};\n\nlet obstacles = [];\n\nfunction spawnObstacle() {\n    obstacles.push({\n        x: canvas.width,\n        y: 330,\n        width: 40,\n        height: 40\n    });\n}\n\nsetInterval(spawnObstacle, 1500);\n\nfunction jump() {\n    if (player.grounded && !gameOver) {\n        player.dy = -15;\n        player.grounded = false;\n    }\n}\n\ndocument.addEventListener(\"keydown\", e => {\n    if (e.code === \"Space\") jump();\n});\n\nfunction update() {\n    if (gameOver) return;\n\n    player.dy += gravity;\n    player.y += player.dy;\n\n    if (player.y > 300) {\n        player.y = 300;\n        player.dy = 0;\n        player.grounded = true;\n    }\n\n    obstacles.forEach(obs => {\n        obs.x -= speed;\n\n        if (\n            player.x < obs.x + obs.width &&\n            player.x + player.size > obs.x &&\n            player.y < obs.y + obs.height &&\n            player.y + player.size > obs.y\n        ) {\n            gameOver = true;\n        }\n    });\n}\n\nfunction draw() {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    ctx.fillStyle = \"black\";\n    ctx.fillRect(0, 350, canvas.width, 50);\n\n    ctx.fillStyle = \"cyan\";\n    ctx.fillRect(player.x, player.y, player.size, player.size);\n\n    ctx.fillStyle = \"red\";\n    obstacles.forEach(obs => {\n        ctx.fillRect(obs.x, obs.y, obs.width, obs.height);\n    });\n\n    ctx.fillStyle = \"white\";\n    ctx.fillText(\"Score: \" + score, 20, 30);\n}\n\nfunction loop() {\n    update();\n    draw();\n    requestAnimationFrame(loop);\n}\n\nloop();\n"]]}]}]},{"timestamp":1770932169937,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":1026,"diffs":[[1,""]]}]}]},{"timestamp":1770932175425,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":84,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":1170,"diffs":[[1,"scene.setBackgroundColor(15)\n\nlet player = sprites.create(img`\n    . . 5 5 5 5 . .\n    . 5 5 5 5 5 5 .\n    5 5 5 5 5 5 5 5\n    5 5 5 5 5 5 5 5\n    5 5 5 5 5 5 5 5\n    5 5 5 5 5 5 5 5\n    . 5 5 5 5 5 5 .\n    . . 5 5 5 5 . .\n`, SpriteKind.Player)\n\nplayer.setPosition(20, 100)\nplayer.ay = 600\n\n"]]},{"start1":357,"length1":83,"diffs":[[1,"    if (player.isHittingTile(CollisionDirection.Bottom)) {\n        player.vy = -250\n"]]},{"start1":450,"length1":432,"diffs":[[1,"\nscene.setTileMapLevel(tilemap`level1`)\n\nlet ground = sprites.create(img`\n    2222222222222222\n`, SpriteKind.Food)\nground.setPosition(80, 118)\nground.setFlag(SpriteFlag.Ghost, true)\n\ngame.onUpdateInterval(1000, function () {\n    let spike = sprites.create(img`\n        . . 2 . .\n        . 2 2 2 .\n        2 2 2 2 2\n    `, SpriteKind.Enemy)\n    spike.setPosition(160, 110)\n    spike.vx = -100\n"]]},{"start1":845,"length1":139,"diffs":[[1,"\nsprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function () {\n    game.over(false)\n"]]},{"start1":939,"length1":8642,"diffs":[[1,"\n"]]},{"start1":968,"length1":278,"diffs":[[1,"    if (player.y > 120) {\n        player.y = 120\n"]]},{"start1":1023,"length1":2,"diffs":[[1,"})\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":203,"length1":44,"diffs":[[1,""]]}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"}]}],"snapshots":[{"timestamp":1770926375086,"editorVersion":"2.0.63","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block>\n</xml>","main.ts":" ","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"GD\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1770928313670,"editorVersion":"2.0.63","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block></xml>","main.ts":"namespace SpriteKind {\n    export const Ground = SpriteKind.create()\n    export const Hazard = SpriteKind.create()\n}\n\n// Background\nscene.setBackgroundColor(9)\n\n// =====================================\n// FLOOR (real solid ground sprite)\n// =====================================\n\nlet ground = sprites.create(img`\n8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8\n8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8\n`, SpriteKind.Ground)\n\nground.setPosition(500, 120)\nlet ground = sprites.create(img`\n8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8\n8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8\n`, SpriteKind.Ground)\n\nground.setPosition(500, 120)\n\n// =====================================\n// PLAYER\n// =====================================\n\nlet cube = img`\n. . 2 2 2 2 . .\n. 2 4 4 4 4 2 .\n2 4 4 4 4 4 4 2\n2 4 4 4 4 4 4 2\n. 2 4 4 4 4 2 .\n. . 2 2 2 2 . .\n`\n\nlet player = sprites.create(cube, SpriteKind.Player)\nplayer.setPosition(20, 80)\nplayer.ay = 900\n\nscene.cameraFollowSprite(player)\n\nlet speed = 140\nlet jumps = 0\nlet maxJumps = 2\nlet rotationFrame = 0\nlet onGround = false\n\n// =====================================\n// SPIKES\n// =====================================\n\nfunction spike(x: number) {\n    let s = sprites.create(img`\n    . . 8 . .\n    . 8 8 8 .\n    8 8 8 8 8\n    `, SpriteKind.Hazard)\n\n    s.setPosition(x, 108)\n}\n\nspike(250)\nspike(320)\nspike(390)\nspike(460)\n\n// =====================================\n// GROUND COLLISION\n// =====================================\n\nsprites.onOverlap(SpriteKind.Player, SpriteKind.Ground, function (p, g) {\n    if (player.vy >= 0) {\n        player.y = ground.top - player.height / 2\n        player.vy = 0\n        jumps = 0\n        onGround = true\n    }\n})\n\n// =====================================\n// DEATH\n// =====================================\n\nsprites.onOverlap(SpriteKind.Player, SpriteKind.Hazard, function () {\n    scene.cameraShake(6, 300)\n    player.setPosition(20, 80)\n    player.vy = 0\n})\n\n// =====================================\n// UPDATE LOOP\n// =====================================\n\ngame.onUpdate(function () {\n\n    player.vx = speed\n\n    if (!onGround) {\n        rotationFrame = (rotationFrame + 1) % 4\n        player.setImage(cube.rotated(rotationFrame * 90))\n    } else {\n        player.setImage(cube)\n    }\n\n    onGround = false\n})\n\n// =====================================\n// JUMP\n// =====================================\n\ncontroller.A.onEvent(ControllerButtonEvent.Pressed, function () {\n    if (jumps < maxJumps) {\n        player.vy = -350\n        jumps++\n    }\n})\n","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"GDv3\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1770932169937,"editorVersion":"2.0.63","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block></xml>","main.ts":"const canvas = document.querySelector(\"canvas\");\nconst ctx = canvas.getContext(\"2d\");\n\ncanvas.width = 900;\ncanvas.height = 400;\n\nlet gravity = 0.8;\nlet speed = 6;\nlet score = 0;\nlet gameOver = false;\n\nconst player = {\n    x: 100,\n    y: 300,\n    size: 30,\n    dy: 0,\n    grounded: false,\n    rotation: 0\n};\n\nlet obstacles = [];\n\nfunction spawnObstacle() {\n    obstacles.push({\n        x: canvas.width,\n        y: 330,\n        width: 40,\n        height: 40\n    });\n}\n\nsetInterval(spawnObstacle, 1500);\n\nfunction jump() {\n    if (player.grounded && !gameOver) {\n        player.dy = -15;\n        player.grounded = false;\n    }\n}\n\ndocument.addEventListener(\"keydown\", e => {\n    if (e.code === \"Space\") jump();\n});\n\nfunction update() {\n    if (gameOver) return;\n\n    player.dy += gravity;\n    player.y += player.dy;\n\n    if (player.y > 300) {\n        player.y = 300;\n        player.dy = 0;\n        player.grounded = true;\n    }\n\n    obstacles.forEach(obs => {\n        obs.x -= speed;\n\n        if (\n            player.x < obs.x + obs.width &&\n            player.x + player.size > obs.x &&\n            player.y < obs.y + obs.height &&\n            player.y + player.size > obs.y\n        ) {\n            gameOver = true;\n        }\n    });\n}\n\nfunction draw() {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    ctx.fillStyle = \"black\";\n    ctx.fillRect(0, 350, canvas.width, 50);\n\n    ctx.fillStyle = \"cyan\";\n    ctx.fillRect(player.x, player.y, player.size, player.size);\n\n    ctx.fillStyle = \"red\";\n    obstacles.forEach(obs => {\n        ctx.fillRect(obs.x, obs.y, obs.width, obs.height);\n    });\n\n    ctx.fillStyle = \"white\";\n    ctx.fillText(\"Score: \" + score, 20, 30);\n}\n\nfunction loop() {\n    update();\n    draw();\n    requestAnimationFrame(loop);\n}\n\nloop();\n","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"GDv3\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}}],"shares":[],"lastSaveTime":1770932478218}